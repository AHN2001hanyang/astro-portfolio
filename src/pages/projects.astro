---
import Layout from '~/layouts/PageLayout.astro';
import { projects } from '~/data/projects';

const metadata = { title: 'Projects — Portfolio' };
---

<Layout metadata={metadata}>
  <section class="py-8 sm:py-12">
    <div class="container">
      <h1 class="text-3xl sm:text-4xl font-bold tracking-tight dark:text-white">Projects</h1>
      <p class="mt-2 text-muted-foreground">
        项目清单。新增项目只需在 <code>src/data/projects.ts</code> 里追加一条记录。
      </p>
    </div>
  </section>

  <section class="container pb-16">
    <div class="mt-6 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
      {projects.map((p) => (
        <article class="rounded-2xl border p-6 hover:shadow-md">
          <h2 class="font-semibold">{p.title}</h2>
          <p class="mt-2 text-sm text-muted-foreground">{p.summary}</p>

          {p.tags && p.tags.length ? (
            <div class="mt-3 flex flex-wrap gap-2">
              {p.tags.map((t) => (
                <span class="rounded-full border px-2 py-0.5 text-xs">{t}</span>
              ))}
            </div>
          ) : null}

          <div class="mt-4 flex flex-wrap gap-4">
            {p.links.map((l) => (
              <a class="underline" href={l.href} target={l.target ?? '_self'} rel="noopener">
                {l.label} →
              </a>
            ))}
          </div>
        </article>
      ))}
    </div>
  </section>
</Layout>
