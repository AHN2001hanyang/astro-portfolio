---
import Layout from '~/layouts/PageLayout.astro';
import { projects } from '~/data/projects';

const metadata = {
  title: 'Jae AHN — 포트폴리오',
  ignoreTitleTemplate: true,
};

const featured = projects.filter((p) => p.featured).slice(0, 3);
---

<Layout metadata={metadata}>
  <main class="px-4 py-16 sm:px-6 lg:px-8 lg:py-20">
    <!-- Hero -->
    <section class="mx-auto max-w-3xl text-center">
      <h1 class="font-bold font-heading text-4xl md:text-5xl tracking-tight">
        Jae AHN · AI · Web · Game
      </h1>
      <p class="mt-4 text-muted-foreground">
        개인 포트폴리오 & 블로그. AI·웹·게임 프로젝트를 만들고 기록합니다.
      </p>
      <div class="mt-6 flex flex-wrap items-center justify-center gap-3">
        <a href="/projects/" class="inline-flex items-center rounded-xl border px-4 py-2 hover:shadow">
          프로젝트 보기
        </a>
        <a href="/about/" class="inline-flex items-center rounded-xl border px-4 py-2 hover:shadow">
          소개
        </a>
        <a href="https://github.com/AHN2001hanyang" target="_blank" rel="noopener"
           class="inline-flex items-center rounded-xl border px-4 py-2 hover:shadow">
          GitHub
        </a>
      </div>
    </section>

    <!-- Featured Projects（来自数据文件，仅显示 featured=true 的项目） -->
    <section class="mx-auto mt-16 max-w-6xl">
      <h2 class="text-2xl font-bold tracking-tight">대표 프로젝트</h2>

      <div class="mt-6 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        {featured.map((p) => (
          <article class="rounded-2xl border p-6 hover:shadow-md">
            <h3 class="font-semibold">{p.title}</h3>
            <p class="mt-2 text-sm text-muted-foreground">{p.summary}</p>

            {p.tags && p.tags.length ? (
              <div class="mt-3 flex flex-wrap gap-2">
                {p.tags.map((t) => (
                  <span class="rounded-full border px-2 py-0.5 text-xs">{t}</span>
                ))}
              </div>
            ) : null}

            <div class="mt-4 flex flex-wrap gap-4">
              {p.links.map((l) => (
                <a class="underline" href={l.href} target={l.target ?? '_self'} rel="noopener">
                  {l.label} →
                </a>
              ))}
            </div>
          </article>
        ))}
      </div>

      <div class="mt-8 text-center">
        <a href="/projects/" class="underline">모든 프로젝트 보기</a>
      </div>
    </section>

    <!-- Blog CTA -->
    <section class="mx-auto mt-16 max-w-3xl text-center">
      <h2 class="text-2xl font-bold tracking-tight">블로그</h2>
      <p class="mt-2 text-muted-foreground">최신 글은 블로그에서 확인하세요.</p>
      <div class="mt-4">
        <a href="/blog/" class="inline-flex items-center rounded-xl border px-4 py-2 hover:shadow">
          블로그로 이동
        </a>
      </div>
    </section>
  </main>
</Layout>
